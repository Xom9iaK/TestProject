document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll(".product-card__icon--heart").forEach((e=>{e.addEventListener("click",(function(){this.classList.toggle("active")}))}))})),document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("orderModal"),t=document.querySelectorAll(".product-card__button"),n=document.querySelector(".modal-close"),o=document.getElementById("orderForm");function r(){e.style.display="none",document.body.style.overflow=""}t.forEach((t=>{t.addEventListener("click",(function(t){t.preventDefault();const n=this.closest(".product-card"),r=n.querySelector(".product-card__title").textContent,d=n.querySelector(".product-card__price").textContent;o.dataset.product=r,o.dataset.price=d,e.style.display="block",document.body.style.overflow="hidden"}))})),n.addEventListener("click",(function(){r()})),window.addEventListener("click",(function(t){t.target===e&&r()})),o.addEventListener("submit",(function(e){e.preventDefault();const t=document.getElementById("userName").value,n=document.getElementById("userPhone").value,d=document.getElementById("userAgreement").checked;if(!t||!n||!d)return void alert("Пожалуйста, заполните все поля и подтвердите согласие");const c=o.dataset.product,u=o.dataset.price;console.log("Отправка заявки:",{product:c,price:u,name:t,phone:n}),alert(`Спасибо, ${t}! Ваша заявка на товар "${c}" успешно отправлена.`),o.reset(),r()}));document.getElementById("userPhone").addEventListener("input",(function(e){let t=e.target.value.replace(/\D/g,"");t.length>0&&(t="7"===t[0]||"8"===t[0]?"+7"+t.substring(1):"+7"+t),t.length>2&&(t=t.substring(0,2)+" ("+t.substring(2)),t.length>7&&(t=t.substring(0,7)+") "+t.substring(7)),t.length>12&&(t=t.substring(0,12)+"-"+t.substring(12)),t.length>15&&(t=t.substring(0,15)+"-"+t.substring(15,17)),e.target.value=t.substring(0,18)}))}));